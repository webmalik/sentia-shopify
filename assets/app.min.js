(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function getHash(){if(location.hash)return location.hash.replace("#","")}function setHash(l){l=l?`#${l}`:window.location.href.split("#")[0],history.pushState("","",l)}let slideUp=(l,e=500,t=0)=>{l.classList.contains("--slide")||(l.classList.add("--slide"),l.style.transitionProperty="height, margin, padding",l.style.transitionDuration=e+"ms",l.style.height=`${l.offsetHeight}px`,l.offsetHeight,l.style.overflow="hidden",l.style.height=t?`${t}px`:"0px",l.style.paddingTop=0,l.style.paddingBottom=0,l.style.marginTop=0,l.style.marginBottom=0,window.setTimeout(()=>{l.hidden=!t,t||l.style.removeProperty("height"),l.style.removeProperty("padding-top"),l.style.removeProperty("padding-bottom"),l.style.removeProperty("margin-top"),l.style.removeProperty("margin-bottom"),t||l.style.removeProperty("overflow"),l.style.removeProperty("transition-duration"),l.style.removeProperty("transition-property"),l.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:l}}))},e))},slideDown=(l,e=500,t=0)=>{if(!l.classList.contains("--slide")){l.classList.add("--slide"),l.hidden=l.hidden?!1:null,t&&l.style.removeProperty("height");let s=l.offsetHeight;l.style.overflow="hidden",l.style.height=t?`${t}px`:"0px",l.style.paddingTop=0,l.style.paddingBottom=0,l.style.marginTop=0,l.style.marginBottom=0,l.offsetHeight,l.style.transitionProperty="height, margin, padding",l.style.transitionDuration=e+"ms",l.style.height=s+"px",l.style.removeProperty("padding-top"),l.style.removeProperty("padding-bottom"),l.style.removeProperty("margin-top"),l.style.removeProperty("margin-bottom"),window.setTimeout(()=>{l.style.removeProperty("height"),l.style.removeProperty("overflow"),l.style.removeProperty("transition-duration"),l.style.removeProperty("transition-property"),l.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:l}}))},e)}},slideToggle=(l,e=500)=>l.hidden?slideDown(l,e):slideUp(l,e),bodyLockStatus=!0,bodyLockToggle=(l=500)=>{document.documentElement.hasAttribute("data-fls-scrolllock")?bodyUnlock(l):bodyLock(l)},bodyUnlock=(l=500)=>{if(bodyLockStatus){const e=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{e.forEach(t=>{t.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},l),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},l)}},bodyLock=(l=500)=>{if(bodyLockStatus){const e=document.querySelectorAll("[data-fls-lp]"),t=window.innerWidth-document.body.offsetWidth+"px";e.forEach(s=>{s.style.paddingRight=t}),document.body.style.paddingRight=t,document.documentElement.setAttribute("data-fls-scrolllock",""),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},l)}};function getDigFormat(l,e=" "){return l.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,`$1${e}`)}function uniqArray(l){return l.filter((e,t,s)=>s.indexOf(e)===t)}function dataMediaQueries(l,e){const t=Array.from(l).filter(o=>o.dataset[e]).map(o=>{const[i,c="max"]=o.dataset[e].split(",");return{value:i,type:c,item:o}});if(t.length===0)return[];const s=t.map(({value:o,type:i})=>`(${i}-width: ${o}px),${o},${i}`);return[...new Set(s)].map(o=>{const[i,c,n]=o.split(","),f=window.matchMedia(i);return{itemsArray:t.filter(r=>r.value===c&&r.type===n),matchMedia:f}})}const gotoBlock=(l,e=!1,t=500,s=0)=>{const a=document.querySelector(l);if(a){let o="",i=0;if(e){o="header.header";const n=document.querySelector(o);n.classList.contains("--header-scroll")?i=n.offsetHeight:(n.style.cssText="transition-duration: 0s;",n.classList.add("--header-scroll"),i=n.offsetHeight,n.classList.remove("--header-scroll"),setTimeout(()=>{n.style.cssText=""},0))}document.documentElement.hasAttribute("data-fls-menu-open")&&(bodyUnlock(),document.documentElement.removeAttribute("data-fls-menu-open"));let c=a.getBoundingClientRect().top+scrollY;c=i?c-i:c,c=s?c-s:c,window.scrollTo({top:c,behavior:"smooth"})}};let formValidate={getErrors(l){let e=0,t=l.querySelectorAll("[required]");return t.length&&t.forEach(s=>{(s.offsetParent!==null||s.tagName==="SELECT")&&!s.disabled&&(e+=this.validateInput(s))}),e},validateInput(l){let e=0;return l.type==="email"?(l.value=l.value.replace(" ",""),this.emailTest(l)?(this.addError(l),this.removeSuccess(l),e++):(this.removeError(l),this.addSuccess(l))):l.type==="checkbox"&&!l.checked?(this.addError(l),this.removeSuccess(l),e++):l.value.trim()?(this.removeError(l),this.addSuccess(l)):(this.addError(l),this.removeSuccess(l),e++),e},addError(l){l.classList.add("--form-error"),l.parentElement.classList.add("--form-error");let e=l.parentElement.querySelector("[data-fls-form-error]");e&&l.parentElement.removeChild(e),l.dataset.flsFormErrtext&&l.parentElement.insertAdjacentHTML("beforeend",`<div data-fls-form-error>${l.dataset.flsFormErrtext}</div>`)},removeError(l){l.classList.remove("--form-error"),l.parentElement.classList.remove("--form-error"),l.parentElement.querySelector("[data-fls-form-error]")&&l.parentElement.removeChild(l.parentElement.querySelector("[data-fls-form-error]"))},addSuccess(l){l.classList.add("--form-success"),l.parentElement.classList.add("--form-success")},removeSuccess(l){l.classList.remove("--form-success"),l.parentElement.classList.remove("--form-success")},formClean(l){l.reset(),setTimeout(()=>{let e=l.querySelectorAll("input,textarea");for(let s=0;s<e.length;s++){const a=e[s];a.parentElement.classList.remove("--form-focus"),a.classList.remove("--form-focus"),formValidate.removeError(a)}let t=l.querySelectorAll('input[type="checkbox"]');if(t.length&&t.forEach(s=>{s.checked=!1}),window.flsSelect){let s=l.querySelectorAll("select[data-fls-select]");s.length&&s.forEach(a=>{window.flsSelect.selectBuild(a)})}},0)},emailTest(l){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(l.value)}};class SelectConstructor{constructor(e,t=null){let s={init:!0,speed:150};if(this.config=Object.assign(s,e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"--select-disabled",classSelectTag:"--select-tag",classSelectOpen:"--select-open",classSelectActive:"--select-active",classSelectFocus:"--select-focus",classSelectMultiple:"--select-multiple",classSelectCheckBox:"--select-checkbox",classSelectOptionSelected:"--select-selected",classSelectPseudoLabel:"--select-pseudo-label"},this._this=this,this.config.init){const a=t?document.querySelectorAll(t):document.querySelectorAll("select[data-fls-select]");a.length&&this.selectsInit(a)}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach((t,s)=>{this.selectInit(t,s+1)}),document.addEventListener("click",function(t){this.selectsActions(t)}.bind(this)),document.addEventListener("keydown",function(t){this.selectsActions(t)}.bind(this)),document.addEventListener("focusin",function(t){this.selectsActions(t)}.bind(this)),document.addEventListener("focusout",function(t){this.selectsActions(t)}.bind(this))}selectInit(e,t){if(t&&(e.dataset.flsSelectId=t),e.options.length){const s=this;let a=document.createElement("div");a.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(a,e),a.appendChild(e),e.hidden=!0,this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show&&this.getSelectElement(a,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)),a.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.flsSelectSpeed=e.dataset.flsSelectSpeed?e.dataset.flsSelectSpeed:this.config.speed,this.config.speed=+e.dataset.flsSelectSpeed,e.addEventListener("change",function(o){s.selectChange(o)})}}selectBuild(e){const t=e.parentElement;e.id&&(t.id=e.id,e.removeAttribute("id")),t.dataset.flsSelectId=e.dataset.flsSelectId,e.dataset.flsSelectModif&&t.classList.add(`select--${e.dataset.flsSelectModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-fls-select-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-fls-select-search")&&this.searchActions(t),e.hasAttribute("data-fls-select-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,s=e.type,a=t.closest(this.getSelectClass(this.selectClasses.classSelect)),o=t.closest(this.getSelectClass(this.selectClasses.classSelectTag));if(!a&&!o)return this.selects\u0421lose();const i=a||document.querySelector(`.${this.selectClasses.classSelect}[data-fls-select-id="${o.dataset.flsSelectId}"]`),c=this.getSelectElement(i).originalSelect;if(!c.disabled)if(s==="click"){const n=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),f=t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)),d=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));if(n){const r=document.querySelector(`.${this.selectClasses.classSelect}[data-fls-select-id="${n.dataset.flsSelectId}"] .select__option[data-fls-select-value="${n.dataset.flsSelectValue}"]`);this.optionAction(i,c,r)}else f?this.selectAction(i):d&&this.optionAction(i,c,d)}else s==="focusin"||s==="focusout"?a&&i.classList.toggle(this.selectClasses.classSelectFocus,s==="focusin"):s==="keydown"&&e.code==="Escape"&&this.selects\u0421lose()}selects\u0421lose(e){const s=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);s.length&&s.forEach(a=>{this.select\u0421lose(a)})}select\u0421lose(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),slideUp(s,t.dataset.flsSelectSpeed),setTimeout(()=>{e.style.zIndex=""},t.dataset.flsSelectSpeed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.querySelectorAll(`.${this.selectClasses.classSelectOption}`);const a=t.dataset.flsSelectZIndex?t.dataset.flsSelectZIndex:3;if(this.setOptionsPosition(e),t.closest("[data-fls-select-one]")){const o=t.closest("[data-fls-select-one]");this.selects\u0421lose(o)}setTimeout(()=>{s.classList.contains("--slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),slideToggle(s,t.dataset.flsSelectSpeed),e.classList.contains(this.selectClasses.classSelectOpen)?e.style.zIndex=a:setTimeout(()=>{e.style.zIndex=""},t.dataset.flsSelectSpeed))},0)}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,a=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;a&&a.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t)),t.hasAttribute("data-fls-select-search")&&this.searchActions(e)}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-fls-select-tags")&&(s=this.getSelectedOptionsData(t).elements.map(i=>`<span role="button" data-fls-select-id="${e.dataset.flsSelectId}" data-fls-select-value="${i.value}" class="--select-tag">${this.getSelectElementContent(i)}</span>`).join(""),t.dataset.flsSelectTags&&document.querySelector(t.dataset.flsSelectTags)&&(document.querySelector(t.dataset.flsSelectTags).innerHTML=s,t.hasAttribute("data-fls-select-search")&&(s=!1))),s=s.length?s:t.dataset.flsSelectPlaceholder||"",t.hasAttribute("data-fls-select-tags")||(s=s?s.map(i=>i.replace(/"/g,"&quot;")):"");let a="",o="";if(t.hasAttribute("data-fls-select-pseudo-label")&&(a=t.dataset.flsSelectPseudoLabel?` data-fls-select-pseudo-label="${t.dataset.flsSelectPseudoLabel}"`:' data-fls-select-pseudo-label="\u0417\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0430\u0442\u0440\u0438\u0431\u0443\u0442"',o=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-fls-select-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${a} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-fls-select-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const i=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.flsSelectClass?` ${this.getSelectedOptionsData(t).elements[0].dataset.flsSelectClass}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${a} class="${this.selectClasses.classSelectValue}${o}"><span class="${this.selectClasses.classSelectContent}${i}">${s}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.flsSelectAsset?`${e.dataset.flsSelectAsset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let a="";return a+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",a+=t?`<span class="${this.selectClasses.classSelectData}">`:"",a+=t?s:"",a+=t?"</span>":"",a+=t?`<span class="${this.selectClasses.classSelectText}">`:"",a+=e.textContent,a+=t?"</span>":"",a+=t?"</span>":"",a}getSelectPlaceholder(e){const t=Array.from(e.options).find(s=>!s.value);if(t)return{value:t.textContent,show:t.hasAttribute("data-fls-select-show"),label:{show:t.hasAttribute("data-fls-select-label"),text:t.dataset.flsSelectLabel}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter(a=>a.value).filter(a=>a.selected):s.push(e.options[e.selectedIndex]),{elements:s.map(a=>a),values:s.filter(a=>a.value).map(a=>a.value),html:s.map(a=>this.getSelectElementContent(a))}}getOptions(e){const t=(e.hasAttribute("data-fls-select-scroll"),""),s=+e.dataset.flsSelectScroll?+e.dataset.flsSelectScroll:null;let a=Array.from(e.options);if(a.length>0){let o="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(a=a.filter(i=>i.value)),o+=`<div ${t} ${t?`style="max-height: ${s}px"`:""} class="${this.selectClasses.classSelectOptionsScroll}">`,a.forEach(i=>{o+=this.getOption(i,e)}),o+="</div>",o}}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",a=e.selected&&!t.hasAttribute("data-fls-select-show-selected")&&!t.multiple?"hidden":"",o=e.dataset.flsSelectClass?` ${e.dataset.flsSelectClass}`:"",i=e.dataset.flsSelectHref?e.dataset.flsSelectHref:!1,c=e.hasAttribute("data-fls-select-href-blank")?'target="_blank"':"";let n="";return n+=i?`<a ${c} ${a} href="${i}" data-fls-select-value="${e.value}" class="${this.selectClasses.classSelectOption}${o}${s}">`:`<button ${a} class="${this.selectClasses.classSelectOption}${o}${s}" data-fls-select-value="${e.value}" type="button">`,n+=this.getSelectElementContent(e),n+=i?"</a>":"</button>",n}setOptions(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.innerHTML=this.getOptions(t)}setOptionsPosition(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,a=this.getSelectElement(e,this.selectClasses.classSelectOptionsScroll).selectElement,o=+t.dataset.flsSelectScroll?`${+t.dataset.flsSelectScroll}px`:"",i=+t.dataset.flsSelectOptionsMargin?+t.dataset.flsSelectOptionsMargin:10;if(e.classList.contains(this.selectClasses.classSelectOpen))setTimeout(()=>{e.classList.remove("select--show-top"),a.style.maxHeight=o},+t.dataset.flsSelectSpeed);else{s.hidden=!1;const c=a.offsetHeight?a.offsetHeight:parseInt(window.getComputedStyle(a).getPropertyValue("max-height")),n=s.offsetHeight>c?s.offsetHeight:c+s.offsetHeight,f=n-c;s.hidden=!0;const d=e.offsetHeight,r=e.getBoundingClientRect().top,h=r+n+d+f,u=window.innerHeight-(h+i);if(u<0){const p=n+u;p<100?(e.classList.add("select--show-top"),a.style.maxHeight=r<n?`${r-(n-r)}px`:o):(e.classList.remove("select--show-top"),a.style.maxHeight=`${p}px`)}}}optionAction(e,t,s){if(!e.querySelector(this.getSelectClass(this.selectClasses.classSelectOptions)).classList.contains("--slide")){if(t.multiple){s.classList.toggle(this.selectClasses.classSelectOptionSelected);const o=this.getSelectedOptionsData(t).elements;for(const c of o)c.removeAttribute("selected");const i=e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected));for(const c of i){const n=c.dataset.flsSelectValue,f=t.querySelector(`option[value="${n}"]`);f&&f.setAttribute("selected","selected")}}else t.hasAttribute("data-fls-select-show-selected")||setTimeout(()=>{const o=e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`);o&&(o.hidden=!1),s.hidden=!0},this.config.speed),t.value=s.dataset.flsSelectValue||s.textContent,this.selectAction(e);this.setSelectTitleValue(e,t),this.setSelectChange(t)}}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-fls-select-validate")&&formValidate.validateInput(e),e.hasAttribute("data-fls-select-submit")&&e.value){let s=document.createElement("button");s.type="submit",e.closest("form").append(s),s.click(),s.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;t.addEventListener("input",()=>{const a=t.value.toLowerCase();s.querySelectorAll(`.${this.selectClasses.classSelectOption}`).forEach(i=>{const c=i.textContent.toLowerCase();i.hidden=!c.includes(a)}),s.hidden&&this.selectAction(e)})}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}}document.querySelector("select[data-fls-select]")&&window.addEventListener("load",()=>window.flsSelect=new SelectConstructor({}));function spollers(){const l=document.querySelectorAll("[data-fls-spollers]");if(l.length>0){let o=function(r,h=!1){r.forEach(u=>{u=h?u.item:u,h.matches||!h?(u.classList.add("--spoller-init"),i(u)):(u.classList.remove("--spoller-init"),i(u,!1))})},i=function(r,h=!0){let u=r.querySelectorAll("details");u.length&&u.forEach(p=>{let m=p.querySelector("summary");h?(m.removeAttribute("tabindex"),p.hasAttribute("data-fls-spollers-open")?(m.classList.add("--spoller-active"),p.open=!0):(p.open=!1,m.nextElementSibling.hidden=!0)):(m.setAttribute("tabindex","-1"),m.classList.remove("--spoller-active"),p.open=!0,m.nextElementSibling.hidden=!1)})},c=function(r){const h=r.target;if(h.closest("summary")&&h.closest("[data-fls-spollers]")&&(r.preventDefault(),h.closest("[data-fls-spollers]").classList.contains("--spoller-init"))){const u=h.closest("summary"),p=u.closest("details"),m=u.closest("[data-fls-spollers]"),v=m.hasAttribute("data-fls-spollers-one"),y=p.hasAttribute("data-fls-spollers-scroll"),S=m.dataset.flsSpollersSpeed?parseInt(m.dataset.flsSpollersSpeed):500;if(!m.querySelectorAll(".--slide").length&&(v&&!p.open&&n(m),p.open?setTimeout(()=>{p.open=!1},S):p.open=!0,u.classList.toggle("--spoller-active"),slideToggle(u.nextElementSibling,S),y&&u.classList.contains("--spoller-active"))){const b=p.dataset.flsSpollersScroll,g=+b?+b:0,E=p.hasAttribute("data-fls-spollers-scroll-noheader")?document.querySelector(".header").offsetHeight:0;window.scrollTo({top:p.offsetTop-(g+E),behavior:"smooth"})}}if(!h.closest("[data-fls-spollers]")){const u=document.querySelectorAll("[data-fls-spollers-close]");u.length&&u.forEach(p=>{const m=p.closest("[data-fls-spollers]"),v=p.parentNode;if(m.classList.contains("--spoller-init")){const y=m.dataset.flsSpollersSpeed?parseInt(m.dataset.flsSpollersSpeed):500;p.classList.remove("--spoller-active"),slideUp(p.nextElementSibling,y),setTimeout(()=>{v.open=!1},y)}})}},n=function(r){const h=r.querySelector("details[open]");if(h&&!r.querySelectorAll(".--slide").length){const u=h.querySelector("summary"),p=r.dataset.flsSpollersSpeed?parseInt(r.dataset.flsSpollersSpeed):500;u.classList.remove("--spoller-active"),slideUp(u.nextElementSibling,p),setTimeout(()=>{h.open=!1},p)}};var e=o,t=i,s=c,a=n;document.addEventListener("click",c);const f=Array.from(l).filter(function(r,h,u){return!r.dataset.flsSpollers.split(",")[0]});f.length&&o(f);let d=dataMediaQueries(l,"flsSpollers");d&&d.length&&d.forEach(r=>{r.matchMedia.addEventListener("change",function(){o(r.itemsArray,r.matchMedia)}),o(r.itemsArray,r.matchMedia)})}}window.addEventListener("load",spollers);class Popup{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-fls-popup-link",attributeCloseButton:"data-fls-popup-close",fixElementSelector:"[data-fls-lp]",attributeMain:"data-fls-popup",youtubeAttribute:"data-fls-popup-youtube",youtubePlaceAttribute:"data-fls-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"data-fls-popup-body",popupActive:"data-fls-popup-active",bodyActive:"data-fls-popup-open"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.buildPopup(),this.eventsPopup()}buildPopup(){}eventsPopup(){document.addEventListener("click",function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t){if(e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`[${this.options.classes.popupContent}]`)&&this.isOpen){e.preventDefault(),this.close();return}}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&e.which==27&&e.code==="Escape"&&this.isOpen){e.preventDefault(),this.close();return}if(this.options.focusCatch&&e.which==9&&this.isOpen){this._focusCatch(e);return}}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.location.hash&&this._openToHash())}open(e){if(bodyLockStatus&&(this.bodyLock=!!(document.documentElement.hasAttribute("data-fls-scrolllock")&&!this.isOpen),e&&typeof e=="string"&&e.trim()!==""&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(`[${this.options.attributeMain}=${this.targetOpen.selector}]`),this.targetOpen.element)){const t=this.youTubeCode||this.targetOpen.element.getAttribute(`${this.options.youtubeAttribute}`);if(t){const s=`https://www.youtube.com/embed/${t}?rel=0&showinfo=0&autoplay=1`,a=document.createElement("iframe"),o=this.options.setAutoplayYoutube?"autoplay;":"";a.setAttribute("allowfullscreen",""),a.setAttribute("allow",`${o}; encrypted-media`),a.setAttribute("src",s),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector("[data-fls-popup-content]").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(a)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.setAttribute(this.options.classes.popupActive,""),document.documentElement.setAttribute(this.options.classes.bodyActive,""),this._reopen?this._reopen=!1:this.bodyLock||bodyLock(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))}}close(e){e&&typeof e=="string"&&e.trim()!==""&&(this.previousOpen.selector=e),!(!this.isOpen||!bodyLockStatus)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&setTimeout(()=>{this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""},500),this.previousOpen.element.removeAttribute(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.removeAttribute(this.options.classes.bodyActive),this.bodyLock||bodyUnlock(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=`#${this.targetOpen.selector}`)}_openToHash(){let e=window.location.hash.replace("#","");const t=document.querySelector(`[${this.options.attributeOpenButton}="${e}"]`);t&&(this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null),e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),s=Array.prototype.slice.call(t),a=s.indexOf(document.activeElement);e.shiftKey&&a===0&&(s[s.length-1].focus(),e.preventDefault()),!e.shiftKey&&a===s.length-1&&(s[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}}document.querySelector("[data-fls-popup]")&&window.addEventListener("load",()=>window.flsPopup=new Popup({}));function menuInit(){document.addEventListener("click",function(l){bodyLockStatus&&l.target.closest("[data-fls-menu]")&&(bodyLockToggle(),document.documentElement.toggleAttribute("data-fls-menu-open"))})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",menuInit),document.addEventListener("DOMContentLoaded",function(){const l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e=document.querySelectorAll(".menu__item--parent");l&&e.forEach(s=>{s.classList.add("touch")});let t=document.querySelectorAll(".menu__arrow-submenu");for(let s=0;s<t.length;s++){let a=t[s].previousElementSibling,o=t[s].nextElementSibling,i=t[s];a.classList.add("parent-header"),t[s].addEventListener("click",function(){o.classList.toggle("open-submenu"),i.classList.toggle("active-submenu")})}});function headerScroll(){const l=document.querySelector("[data-fls-header-scroll]"),e=l.hasAttribute("data-fls-header-scroll-show"),t=l.dataset.flsHeaderScrollShow?l.dataset.flsHeaderScrollShow:500,s=l.dataset.flsHeaderScroll?l.dataset.flsHeaderScroll:1;let a=0,o;document.addEventListener("scroll",function(i){const c=window.scrollY;clearTimeout(o),c>=s?(l.classList.contains("--header-scroll")||l.classList.add("--header-scroll"),e&&(c>a?l.classList.contains("--header-show")&&l.classList.remove("--header-show"):l.classList.contains("--header-show")||l.classList.add("--header-show"),o=setTimeout(()=>{l.classList.contains("--header-show")||l.classList.add("--header-show")},t))):(l.classList.contains("--header-scroll")&&l.classList.remove("--header-scroll"),e&&l.classList.contains("--header-show")&&l.classList.remove("--header-show")),a=c<=0?0:c})}document.querySelector("[data-fls-header-scroll]")&&window.addEventListener("load",headerScroll);class DynamicAdapt{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(e=>{const s=e.dataset.flsDynamic.trim().split(","),a={};a.element=e,a.parent=e.parentNode,a.destinationParent=s[3]&&e.closest(s[3].trim())||document,s[3]&&s[3].trim();const o=s[0]?s[0].trim():null;if(o){const i=a.destinationParent.querySelector(o);i&&(a.destination=i)}a.breakpoint=s[1]?s[1].trim():"767.98",a.place=s[2]?s[2].trim():"last",a.index=this.indexInParent(a.parent,a.element),this.objects.push(a)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:e})=>`(${this.type}-width: ${e/16}em),${e}`).filter((e,t,s)=>s.indexOf(e)===t),this.mediaQueries.forEach(e=>{const t=e.split(","),s=window.matchMedia(t[0]),a=t[1],o=this.objects.filter(({breakpoint:i})=>i===a);s.addEventListener("change",()=>{this.mediaHandler(s,o)}),this.mediaHandler(s,o)})}mediaHandler(e,t){e.matches?t.forEach(s=>{s.destination&&this.moveTo(s.place,s.element,s.destination)}):t.forEach(({parent:s,element:a,index:o})=>{a.classList.contains(this.daClassname)&&this.moveBack(s,a,o)})}moveTo(e,t,s){t.classList.add(this.daClassname);const a=e==="last"||e==="first"?e:parseInt(e,10);a==="last"||a>=s.children.length?s.append(t):a==="first"?s.prepend(t):s.children[a].before(t)}moveBack(e,t,s){t.classList.remove(this.daClassname),e.children[s]!==void 0?e.children[s].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){if(this.type==="min")e.sort((t,s)=>t.breakpoint===s.breakpoint?t.place===s.place?0:t.place==="first"||s.place==="last"?-1:t.place==="last"||s.place==="first"?1:0:t.breakpoint-s.breakpoint);else{e.sort((t,s)=>t.breakpoint===s.breakpoint?t.place===s.place?0:t.place==="first"||s.place==="last"?1:t.place==="last"||s.place==="first"?-1:0:s.breakpoint-t.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>new DynamicAdapt);function formQuantity(){document.addEventListener("click",l),document.addEventListener("input",l);function l(e){const t=e.type,s=e.target;if(t==="click"){if(s.closest("[data-fls-quantity-plus]")||s.closest("[data-fls-quantity-minus]")){const a=s.closest("[data-fls-quantity]").querySelector("[data-fls-quantity-value]");let o=parseInt(a.value);s.hasAttribute("data-fls-quantity-plus")?(o++,+a.dataset.flsQuantityMax&&+a.dataset.flsQuantityMax<o&&(o=a.dataset.flsQuantityMax)):(--o,+a.dataset.flsQuantityMin?+a.dataset.flsQuantityMin>o&&(o=a.dataset.flsQuantityMin):o<1&&(o=1)),s.closest("[data-fls-quantity]").querySelector("[data-fls-quantity-value]").value=o}}else if(t==="input"&&s.closest("[data-fls-quantity-value]")){const a=s.closest("[data-fls-quantity-value]");(a.value==0||/[^0-9]/gi.test(a.value))&&(a.value=1)}}}document.querySelector("[data-fls-quantity]")&&window.addEventListener("load",formQuantity);function formInit(){function l(){const t=document.forms;if(t.length)for(const o of t)o.hasAttribute("data-fls-form-novalidate")||o.setAttribute("novalidate",!0),o.addEventListener("submit",function(i){const c=i.target;s(c,i)}),o.addEventListener("reset",function(i){const c=i.target;formValidate.formClean(c)});async function s(o,i){if(formValidate.getErrors(o)===0)if(o.dataset.flsForm==="ajax"){i.preventDefault();const n=o.getAttribute("action")?o.getAttribute("action").trim():"#",f=o.getAttribute("method")?o.getAttribute("method").trim():"GET",d=new FormData(o);o.classList.add("--sending");const r=await fetch(n,{method:f,body:d});if(r.ok){let h=await r.json();o.classList.remove("--sending"),a(o,h)}else o.classList.remove("--sending")}else o.dataset.flsForm==="dev"&&(i.preventDefault(),a(o));else if(i.preventDefault(),o.querySelector(".--form-error")&&o.hasAttribute("data-fls-form-gotoerr")){const n=o.dataset.flsFormGotoerr?o.dataset.flsFormGotoerr:".--form-error";gotoBlock(n)}}function a(o,i=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:o}})),setTimeout(()=>{if(window.flsPopup){const c=o.dataset.flsFormPopup;c&&window.flsPopup.open(c)}},0),formValidate.formClean(o)}}function e(){document.body.addEventListener("focusin",function(t){const s=t.target;(s.tagName==="INPUT"||s.tagName==="TEXTAREA")&&(s.hasAttribute("data-fls-form-nofocus")||(s.classList.add("--form-focus"),s.parentElement.classList.add("--form-focus")),s.hasAttribute("data-fls-form-validatenow")&&formValidate.removeError(s))}),document.body.addEventListener("focusout",function(t){const s=t.target;(s.tagName==="INPUT"||s.tagName==="TEXTAREA")&&(s.hasAttribute("data-fls-form-nofocus")||(s.classList.remove("--form-focus"),s.parentElement.classList.remove("--form-focus")),s.hasAttribute("data-fls-form-validatenow")&&formValidate.validateInput(s))})}l(),e()}document.querySelector("[data-fls-form]")&&window.addEventListener("load",formInit);function addToCart(){document.addEventListener("click",l);function l(t){const s=t.target;if(s.closest("[data-fls-addtocart-button]")){let a=document.querySelector("[data-fls-addtocart]");const i=s.closest("[data-fls-addtocart-button]").closest("[data-fls-addtocart-product]");if(i){let c=i.querySelector("[data-fls-addtocart-quantity]");c=c?+c.value:1;const n=i.querySelector("[data-fls-addtocart-image]"),f=+n.dataset.flsAddtocartImage||500;n&&e(n,a,f),setTimeout(()=>{a.innerHTML=+a.innerHTML+c},n?f:0)}else a.innerHTML=+a.innerHTML+1}}function e(t,s,a){const o=document.createElement("img");o.src=t.src,o.style.cssText=`
			position: absolute;
			left: ${t.getBoundingClientRect().left+scrollX}px;
			top: ${t.getBoundingClientRect().top+scrollY}px;
			width: ${t.offsetWidth}px;
			transition: all ${a}ms;
		`,document.body.insertAdjacentElement("beforeend",o),o.style.left=`${s.getBoundingClientRect().left+scrollX}px`,o.style.top=`${s.getBoundingClientRect().top+scrollY}px`,o.style.width=0,o.style.opacity="0",setTimeout(()=>{o.remove()},a)}}document.querySelector("[data-fls-addtocart]")&&window.addEventListener("load",addToCart),document.addEventListener("DOMContentLoaded",function(){const l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e=document.querySelectorAll(".productcard__save");l&&e.forEach(t=>{t.classList.add("touch")}),e.forEach(t=>{t.addEventListener("click",function(){this.classList.toggle("active")})})}),document.addEventListener("DOMContentLoaded",()=>{initCart()});function initCart(){const l=document.querySelector(".mycard"),e=document.querySelector(".actions-header__cart"),t=l?.querySelector(".mycard__close"),s=l?.querySelector(".mycard__body");if(!l||!e)return;function a(){l.classList.add("active"),bodyLock(),c(!0)}function o(){l.classList.remove("active"),bodyUnlock(),c(!1)}function i(){l.classList.contains("active")?o():a()}function c(d){const r=new CustomEvent("cartToggled",{detail:{isOpen:d}});window.dispatchEvent(r)}function n(d){d.preventDefault();const r=d.target.closest(".sitem-mycard");r&&r.remove()}l.querySelectorAll(".item-mycard__trash").forEach(d=>{d.addEventListener("click",n)}),e.addEventListener("click",d=>{d.preventDefault(),i()}),t&&t.addEventListener("click",d=>{d.preventDefault(),o()}),s&&s.addEventListener("click",function(d){d.target.closest(".mycard__content")||o()}),window.flsCart={open:a,close:o,toggle:i,isOpen:()=>l.classList.contains("active")}}document.addEventListener("DOMContentLoaded",()=>{initFilterAndSort()});function initFilterAndSort(){const l=document.querySelector(".filterandsort"),e=document.querySelector(".breadcrumbsfiltername__filter-link"),t=l?.querySelector(".filtersort__close"),s=l?.querySelector(".filterandsort__body");if(!l||!e)return;function a(){l.classList.add("active"),bodyLock(),c(!0)}function o(){l.classList.remove("active"),bodyUnlock(),c(!1)}function i(){l.classList.contains("active")?o():a()}function c(n){const f=new CustomEvent("filterToggled",{detail:{isOpen:n}});window.dispatchEvent(f)}e.addEventListener("click",n=>{n.preventDefault(),i()}),t&&t.addEventListener("click",n=>{n.preventDefault(),o()}),s&&s.addEventListener("click",function(n){n.target.closest(".filterandsort__content")||o()}),window.filter={open:a,close:o,toggle:i}}function tabs(){const l=document.querySelectorAll("[data-fls-tabs]");let e=[];if(l.length>0){const i=getHash();i&&i.startsWith("tab-")&&(e=i.replace("tab-","").split("-")),l.forEach((n,f)=>{n.classList.add("--tab-init"),n.setAttribute("data-fls-tabs-index",f),n.addEventListener("click",o),s(n)});let c=dataMediaQueries(l,"flsTabs");c&&c.length&&c.forEach(n=>{n.matchMedia.addEventListener("change",function(){t(n.itemsArray,n.matchMedia)}),t(n.itemsArray,n.matchMedia)})}function t(i,c){i.forEach(n=>{n=n.item;let f=n.querySelector("[data-fls-tabs-titles]"),d=n.querySelectorAll("[data-fls-tabs-title]"),r=n.querySelector("[data-fls-tabs-body]"),h=n.querySelectorAll("[data-fls-tabs-item]");d=Array.from(d).filter(u=>u.closest("[data-fls-tabs]")===n),h=Array.from(h).filter(u=>u.closest("[data-fls-tabs]")===n),h.forEach((u,p)=>{c.matches?(r.append(d[p]),r.append(u),n.classList.add("--tab-spoller")):(f.append(d[p]),n.classList.remove("--tab-spoller"))})})}function s(i){let c=i.querySelectorAll("[data-fls-tabs-titles]>*"),n=i.querySelectorAll("[data-fls-tabs-body]>*");const f=i.dataset.flsTabsIndex,d=e[0]==f;if(d){const r=i.querySelector("[data-fls-tabs-titles]>.--tab-active");r&&r.classList.remove("--tab-active")}n.length&&n.forEach((r,h)=>{c[h].setAttribute("data-fls-tabs-title",""),r.setAttribute("data-fls-tabs-item",""),d&&h==e[1]&&c[h].classList.add("--tab-active"),r.hidden=!c[h].classList.contains("--tab-active")})}function a(i){let c=i.querySelectorAll("[data-fls-tabs-title]"),n=i.querySelectorAll("[data-fls-tabs-item]");const f=i.dataset.flsTabsIndex;function d(h){if(h.hasAttribute("data-fls-tabs-animate"))return h.dataset.flsTabsAnimate>0?Number(h.dataset.flsTabsAnimate):500}const r=d(i);if(n.length>0){const h=i.hasAttribute("data-fls-tabs-hash");n=Array.from(n).filter(u=>u.closest("[data-fls-tabs]")===i),c=Array.from(c).filter(u=>u.closest("[data-fls-tabs]")===i),n.forEach((u,p)=>{c[p].classList.contains("--tab-active")?(r?slideDown(u,r):u.hidden=!1,h&&!u.closest(".popup")&&setHash(`tab-${f}-${p}`)):r?slideUp(u,r):u.hidden=!0})}}function o(i){const c=i.target;if(c.closest("[data-fls-tabs-title]")){const n=c.closest("[data-fls-tabs-title]"),f=n.closest("[data-fls-tabs]");if(!n.classList.contains("--tab-active")&&!f.querySelector(".--slide")){let d=f.querySelectorAll("[data-fls-tabs-title].--tab-active");d.length&&(d=Array.from(d).filter(r=>r.closest("[data-fls-tabs]")===f)),d.length&&d[0].classList.remove("--tab-active"),n.classList.add("--tab-active"),a(f)}i.preventDefault()}}}window.addEventListener("load",tabs);function viewPass(){document.addEventListener("click",function(l){let e=l.target;if(e.closest("[data-fls-input-viewpass]")){let t=e.classList.contains("--viewpass-active")?"password":"text";e.parentElement.querySelector("input").setAttribute("type",t),e.classList.toggle("--viewpass-active")}})}document.querySelector("[data-fls-input-viewpass]")&&window.addEventListener("load",viewPass);const autoHeight=()=>{const l=document.querySelectorAll("textarea[data-fls-input-autoheight]");if(l.length){let t=function(s,a){s.style.height=`${a}px`};var e=t;l.forEach(s=>{const a=s.hasAttribute("data-fls-input-autoheight-min")?Number(s.dataset.flsInputAutoheightMin):Number(s.offsetHeight),o=s.hasAttribute("data-fls-input-autoheight-max")?Number(s.dataset.flsInputAutoheightMax):1/0;t(s,Math.min(a,o)),s.addEventListener("input",()=>{s.scrollHeight>a&&(s.style.height="auto",t(s,Math.min(Math.max(s.scrollHeight,a),o)))})})}};document.querySelector("textarea[data-fls-input-autoheight]")&&window.addEventListener("load",autoHeight);function digitsCounter(){function l(s){let a=s||document.querySelectorAll("[data-fls-digcounter]");a.length&&a.forEach(o=>{o.hasAttribute("data-fls-digcounter-go")||(o.setAttribute("data-fls-digcounter-go",""),o.dataset.flsDigcounter=o.innerHTML,o.innerHTML="0",e(o))})}function e(s){let a=null;const o=parseFloat(s.dataset.flsDigcounterSpeed)?parseFloat(s.dataset.flsDigcounterSpeed):1e3,i=parseFloat(s.dataset.flsDigcounter),c=s.dataset.flsDigcounterFormat?s.dataset.flsDigcounterFormat:" ",n=0,f=d=>{a||(a=d);const r=Math.min((d-a)/o,1),h=Math.floor(r*(n+i));s.innerHTML=typeof s.dataset.flsDigcounterFormat<"u"?getDigFormat(h,c):h,r<1?window.requestAnimationFrame(f):s.removeAttribute("data-fls-digcounter-go")};window.requestAnimationFrame(f)}function t(s){const a=s.detail.entry,o=a.target;o.querySelectorAll("[data-fls-digcounter]").length&&!o.querySelectorAll("[data-fls-watcher]").length&&a.isIntersecting&&l(o.querySelectorAll("[data-fls-digcounter]"))}document.addEventListener("watcherCallback",t)}document.querySelector("[data-fls-digcounter]")&&window.addEventListener("load",digitsCounter);class ScrollWatcher{constructor(e){let t={logging:!0};this.config=Object.assign(t,e),this.observer,document.documentElement.hasAttribute("data-fls-watch")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.setAttribute("data-fls-watch",""),this.scrollWatcherConstructor(document.querySelectorAll("[data-fls-watcher]"))}scrollWatcherConstructor(e){e.length&&uniqArray(Array.from(e).map(function(s){if(s.dataset.flsWatcher==="navigator"&&!s.dataset.flsWatcherThreshold){let a;s.clientHeight>2?(a=window.innerHeight/2/(s.clientHeight-1),a>1&&(a=1)):a=1,s.setAttribute("data-fls-watcher-threshold",a.toFixed(2))}return`${s.dataset.flsWatcherRoot?s.dataset.flsWatcherRoot:null}|${s.dataset.flsWatcherMargin?s.dataset.flsWatcherMargin:"0px"}|${s.dataset.flsWatcherThreshold?s.dataset.flsWatcherThreshold:0}`})).forEach(s=>{let a=s.split("|"),o={root:a[0],margin:a[1],threshold:a[2]},i=Array.from(e).filter(function(n){let f=n.dataset.flsWatcherRoot?n.dataset.flsWatcherRoot:null,d=n.dataset.flsWatcherMargin?n.dataset.flsWatcherMargin:"0px",r=n.dataset.flsWatcherThreshold?n.dataset.flsWatcherThreshold:0;if(String(f)===o.root&&String(d)===o.margin&&String(r)===o.threshold)return n}),c=this.getScrollWatcherConfig(o);this.scrollWatcherInit(i,c)})}getScrollWatcherConfig(e){let t={};if(document.querySelector(e.root)?t.root=document.querySelector(e.root):e.root,t.rootMargin=e.margin,!(e.margin.indexOf("px")<0&&e.margin.indexOf("%")<0)){if(e.threshold==="prx"){e.threshold=[];for(let s=0;s<=1;s+=.005)e.threshold.push(s)}else e.threshold=e.threshold.split(",");return t.threshold=e.threshold,t}}scrollWatcherCreate(e){this.observer=new IntersectionObserver((t,s)=>{t.forEach(a=>{this.scrollWatcherCallback(a,s)})},e)}scrollWatcherInit(e,t){this.scrollWatcherCreate(t),e.forEach(s=>this.observer.observe(s))}scrollWatcherIntersecting(e,t){e.isIntersecting?t.classList.contains("--watcher-view")||t.classList.add("--watcher-view"):t.classList.contains("--watcher-view")&&t.classList.remove("--watcher-view")}scrollWatcherOff(e,t){t.unobserve(e)}scrollWatcherCallback(e,t){const s=e.target;this.scrollWatcherIntersecting(e,s),s.hasAttribute("data-fls-watcher-once")&&e.isIntersecting&&this.scrollWatcherOff(s,t),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:e}}))}}document.querySelector("[data-fls-watcher]")&&window.addEventListener("load",()=>new ScrollWatcher({}));
