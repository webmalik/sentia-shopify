{% comment %}
  Section: Banner Image/Video
  Supports image (desktop+mobile) or video (all screens).
{% endcomment %}

<section class="shopnowimage shopnowimage--one">
  {% if section.settings.media_type == 'video' and section.settings.video != blank %}
    {{ section.settings.video | video_tag: autoplay: true, loop: true, muted: true, class: 'shopnowimage__bg ibg shopnowimage__bg--video' }}
  {% elsif section.settings.media_type == 'image' %}
    <picture class="shopnowimage__bg ibg">
      {% if section.settings.image_mobile != blank %}
        <source srcset="{{ section.settings.image_mobile | img_url: 'master' }}" media="(max-width: 767px)">
      {% endif %}
      {% if section.settings.image_desktop != blank %}
        <img src="{{ section.settings.image_desktop | img_url: 'master' }}" alt="{{ section.settings.title | escape }}">
      {% endif %}
    </picture>
  {% endif %}

  <div class="shopnowimage__container">
    <div class="shopnowimage__content">
      {% if section.settings.title != blank %}
        <h2 class="shopnowimage__title shopnowimage__title--hero">{{ section.settings.title }}</h2>
      {% endif %}

      {% if section.settings.button_label != blank and section.settings.button_link != blank %}
        <div class="shopnowimage__button-block">
          <a href="{{ section.settings.button_link }}" class="shopnowimage__button button button--standart">
            {{ section.settings.button_label }}
            <span class="button__arrow"></span>
          </a>
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Banner Image/Video",
  "settings": [
    {
      "type": "select",
      "id": "media_type",
      "label": "Media type",
      "options": [
        { "value": "image", "label": "Image" },
        { "value": "video", "label": "Video" }
      ],
      "default": "image"
    },
    {
      "type": "image_picker",
      "id": "image_desktop",
      "label": "Desktop image"
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Mobile image"
    },
    {
      "type": "video",
      "id": "video",
      "label": "Video (MP4)"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Feel home in natural comfort"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button text",
      "default": "Shop now"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    }
  ],
  "presets": [
    {
      "name": "Banner Image/Video",
      "category": "Banners"
    }
  ]
}
{% endschema %}
