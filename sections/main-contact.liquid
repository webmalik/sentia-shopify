<div class="contact-us__content">
  <div data-fls-getintouch class="getintouch">
    <div class="getintouch__content">
      <h2 class="getintouch__title">
        {{ section.settings.heading }}
      </h2>

      {%- form 'contact', id: 'ContactForm', class: 'getintouch__form isolate' -%}
        {%- if form.posted_successfully? -%}
          <h3 class="form-status form__message" tabindex="-1" autofocus>
            {{ 'templates.contact.form.post_success' | t }}
          </h3>
        {%- elsif form.errors -%}
          <div class="form__message">
            <h3 class="form-status caption-large text-body" role="alert" tabindex="-1" autofocus>
              {{ 'templates.contact.form.error_heading' | t }}
            </h3>
          </div>
        {%- endif -%}

        <div class="getintouch__line-block getintouch__line-block--one">
          <div class="getintouch__name">{{ 'templates.contact.form.name' | t }}</div>
          <div class="getintouch__line-items">
            <div class="getintouch__line-item">
              <label class="getintouch__label-mob" for="ContactForm-firstname-{{ section.id }}">{{ 'templates.contact.form.name' | t }}</label>
              <input
                data-fls-input
                class="getintouch__input input"
                id="ContactForm-firstname-{{ section.id }}"
                data-error="Error"
                placeholder="{{ 'templates.contact.form.name' | t }}"
                name="contact[First name]"
                type="text"
                value="{{ form['First name'] | default: customer.first_name }}">
            </div>
            <div class="getintouch__line-item">
              <label class="getintouch__label-mob" for="ContactForm-lastname-{{ section.id }}">{{ 'templates.contact.form.surname' | t }}</label>
              <input
                data-fls-input
                class="getintouch__input input"
                id="ContactForm-lastname-{{ section.id }}"
                data-error="Error"
                placeholder="{{ 'templates.contact.form.name' | t }}"
                name="contact[Last name]"
                type="text"
                value="{{ form['Last name'] | default: customer.last_name }}">
            </div>
          </div>
        </div>

        <div class="getintouch__line-block getintouch__line-block--one">
          <div class="getintouch__line">
            <label class="getintouch__label" for="ContactForm-email">{{ 'templates.contact.form.email' | t }}</label>
            <input
              data-fls-input
              class="getintouch__input input"
              id="ContactForm-email"
              name="contact[email]"
              type="email"
              autocomplete="email"
              spellcheck="false"
              autocapitalize="off"
              data-error="Error"
              placeholder="{{ 'templates.contact.form.email' | t }}"
              value="{{ form.email | default: customer.email }}"
              {% if form.errors contains 'email' %}aria-invalid="true" aria-describedby="ContactForm-email-error"{% endif %}>
            {%- if form.errors contains 'email' -%}
              <small class="contact__field-error" id="ContactForm-email-error">
                <span class="form__message">
                  {{ form.errors.translated_fields.email | capitalize }} {{ form.errors.messages.email }}
                </span>
              </small>
            {%- endif -%}
          </div>
        </div>

        <div class="getintouch__line-block getintouch__line-block--two">
          <div class="getintouch__line">
            <label class="getintouch__label" for="ContactForm-body">{{ 'templates.contact.form.comment' | t }}</label>
            <textarea
              data-fls-input
              data-fls-input-autoheight
              autocomplete="off"
              name="contact[{{ 'templates.contact.form.comment' | t }}]"
              placeholder="{{ 'templates.contact.form.comment' | t }}"
              data-error="Error"
              class="getintouch__textarea input"
              id="ContactForm-body"
              rows="8">{{- form.body -}}</textarea>
          </div>
        </div>

        <div class="getintouch__checkbox-block">
          <label data-fls-checkbox class="getintouch__checkbox checkbox">
            <input
              class="getintouch__checkbox-input checkbox__input"
              type="checkbox"
			  checked
              value="1"
              name="contact[Consent]"
              {% if section.settings.consent_required %}required{% endif %}>
            <span class="getintouch__checkbox-text checkbox__text">
              {{ section.settings.consent_text }}
            </span>
            {% if section.settings.privacy_url != blank %}
              <a href="{{ section.settings.privacy_url }}" class="getintouch__checkbox-link" target="{{ section.settings.privacy_target }}">
                {{ section.settings.privacy_label }}
              </a>
            {% endif %}
          </label>
        </div>

        <div class="getintouch__button-block">
          <button data-fls-button type="submit" class="getintouch__button button button--dark">
            {{ section.settings.submit_label }}
          </button>
        </div>
      {%- endform -%}
    </div>
  </div>

  <div class="contact-us__image-block">
    {% assign right_href = section.settings.right_link | default: '#' %}
    <a href="{{ right_href }}" class="contact-us__link" {% if right_href == '#' %}aria-disabled="true"{% endif %}>
      {% if section.settings.right_image %}
        <img class="contact-us__image ibg"
             src="{{ section.settings.right_image | img_url: 'master' }}"
             alt="{{ section.settings.right_image.alt | escape }}"
             loading="lazy">
      {% endif %}
    </a>
  </div>
</div>


{% schema %}
{
  "name": "Get in touch (HTML keep)",
  "tag": "section",
  "class": "section",
  "settings": [
    { "type": "inline_richtext", "id": "heading", "label": "Heading", "default": "Get in touch" },

    { "type": "header", "content": "Consent" },
    { "type": "checkbox", "id": "consent_required", "label": "Consent required", "default": true },
    { "type": "inline_richtext", "id": "consent_text", "label": "Consent text", "default": "Agree with our Cookie Policy and" },
    { "type": "text", "id": "privacy_label", "label": "Privacy link label", "default": "Privacy Policy." },
    { "type": "url", "id": "privacy_url", "label": "Privacy link URL" },
    {
      "type": "select",
      "id": "privacy_target",
      "label": "Privacy link target",
      "default": "_self",
      "options": [
        { "value": "_self", "label": "Same tab" },
        { "value": "_blank", "label": "New tab" }
      ]
    },

    { "type": "header", "content": "Right image" },
    { "type": "image_picker", "id": "right_image", "label": "Image" },
    { "type": "url", "id": "right_link", "label": "Image link (optional)" },

    { "type": "header", "content": "Button" },
    { "type": "text", "id": "submit_label", "label": "Submit label", "default": "Submit" }
  ],
  "presets": [{ "name": "Get in touch (HTML keep)" }]
}
{% endschema %}
